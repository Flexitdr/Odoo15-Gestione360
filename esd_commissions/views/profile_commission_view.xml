<odoo>
  <data>

    <record id="profile_commission_view_form" model="ir.ui.view">
        <field name="name">profile_commission_view_form</field>
        <field name="model">profile.commission</field>
        <field name="arch" type="xml">
            <form string="Profile">
                <sheet>
                     <div class="oe_title">
                        <h1>
                            <field name="name" />
                        </h1>
                    </div>
                  <group>
                    <group>
                        <field name="type_profile"/>

                        <field name="for_own_sales" attrs="{'invisible': [('type_profile', '!=', 'product_category')]}"/>

                    </group>
                    <group>
                        <field name="external_provider"/>
                        <field name="user_ids" widget="many2many_tags"  />
<!--                        <field name="partners_ids" widget="many2many_tags" attrs="{'invisible': [('external_provider', '=', False)]}" />-->
                        <field name="product_category_ids" widget="many2many_tags"
                                           attrs="{'invisible': [('type_profile', '!=', 'product_category')]}"/>
                    </group>
                  </group>
                    <notebook>
                        <page name="range" string="Range Date">
                            <field name="commission_period_line_ids">
                                <tree editable="bottom">
                                    <field name="name"/>
                                    <field name="from_days"/>
                                    <field name="to_days"/>
                                    <field name="percentage"/>
                                </tree>
                            </field>
                        </page>
                        <page name="fee_quantity" string="Fee Quantity">
                            <field name="commission_fee_ids">
                                <tree editable="bottom">
                                    <field name="name"/>
                                    <field name="fee_qty"/>
                                </tree>
                            </field>
                        </page>
                        <page name="salespersons" string="Salespersons"
                              attrs="{'invisible': [('type_profile', '!=', 'other_payments')]}">
                            <field name="salesperson_ids"/>
                        </page>
                    </notebook>

                </sheet>
            </form>
        </field>
    </record>


      <record id="profile_commission_view_tree" model="ir.ui.view">
          <field name="name">profile_commission_view_tree</field>
          <field name="model">profile.commission</field>
          <field name="arch" type="xml">
              <tree string="Profile Commission">
                  <field name="name"/>
                  <field name="type_profile"/>
                  <field name="user_ids" widget="many2many_tags"/>
                  <field name="partners_ids" widget="many2many_tags"/>
                  <field name="external_provider" />
              </tree>
          </field>
      </record>

      <record id="profile_commission_action" model="ir.actions.act_window">
          <field name="name">Profile</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">profile.commission</field>
          <field name="view_mode">tree,form</field>
      </record>

      <!-- This Menu Item Must have a parent -->
      <menuitem id="commission_categ" name="Commission"
                parent="account.menu_finance" sequence="10"/>

      <!-- This Menu Item must have a parent and an action -->
      <menuitem id="profile_commission_categ" name="Profiles"
                parent="commission_categ"
                action="profile_commission_action" sequence="0"/>

      <menuitem id="account_commissions_categ" name="Commissions" groups="commission_collector_group" parent="account.menu_finance_reports" sequence="25"/>
      <!-- This Menu Item must have a parent and an action -->
  </data>
</odoo>